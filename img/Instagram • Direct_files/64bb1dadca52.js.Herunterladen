__d(function(g,r,i,a,m,e,d){"use strict";function t(t){var n,o=t.onFirstPhotoUpload;return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).FIRST_PHOTO_BODY,buttonText:a(d[2]).FIRST_PHOTO_CTA,headerText:a(d[2]).FIRST_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[2]).FIRST_PHOTO_BODY,onClick:null!==(n=o)&&void 0!==n?n:i(d[3])})}function n(){var t=r(d[4]).useHistory();return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).PHONE_BODY,buttonText:a(d[2]).PHONE_CTA,headerText:a(d[2]).PHONE_HEADER,icon:r(d[1]).ICONS.CALL_OUTLINE_24_GREY9,iconAlt:a(d[2]).PHONE_BODY,onClick:function(){return t.push(r(d[5]).PHONE_CONFIRM_PATH)}})}function o(){var t=r(d[4]).useHistory();return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).EDIT_PROFILE_BODY,buttonText:a(d[2]).EDIT_PROFILE_CTA,headerText:a(d[2]).EDIT_PROFILE_HEADER,icon:r(d[1]).ICONS.USER_OUTLINE_24_GREY9,iconAlt:a(d[2]).EDIT_PROFILE_BODY,onClick:function(){return t.push(r(d[5]).PROFILE_EDIT_PATH)}})}function c(t){var n=t.profilePicEditRef;return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).PROFILE_PHOTO_BODY,buttonText:a(d[2]).PROFILE_PHOTO_CTA,headerText:a(d[2]).PROFILE_PHOTO_HEADER,icon:r(d[1]).ICONS.CAMERA_OUTLINE_24_GREY9,iconAlt:a(d[2]).PROFILE_PHOTO_BODY,onClick:function(t){var o;null===n||void 0===n||null===(o=n.current)||void 0===o||o.handleEditProfilePic(t)}})}function l(){var t=r(d[4]).useHistory();return a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[2]).CONTACTS_BODY,buttonText:a(d[2]).CONTACTS_CTA,headerText:a(d[2]).CONTACTS_HEADER,icon:r(d[1]).ICONS.USERS_OUTLINE_24_GREY9,iconAlt:a(d[2]).CONTACTS_BODY,onClick:function(){return t.push(r(d[5]).DISCOVER_PEOPLE_CONTACTS_PATH)}})}Object.defineProperty(e,'__esModule',{value:!0});var s=a(d[0]).forwardRef(function(t,n){return a(d[0]).createElement("div",{className:t.className},a(d[0]).createElement(r(d[1]).Deck,{cardType:"ACTIVATOR",hasBlur:!r(d[6]).isMobile(),headerText:a(d[2]).GETTING_STARTED},t.children),a(d[0]).createElement(i(d[7]),{analyticsContext:t.analyticsContext,hasExistingPic:!1,ref:n}))}),E=(function(E){function u(t){var n;return n=E.call(this,t)||this,n.$NewUserActivatorsUnit1=a(d[0]).createRef(),n}i(d[8])(u,E);return u.prototype.render=function(){var E=this.props,u=E.canFBConnect,T=E.canImportContacts,O=E.className,_=E.fallbackComponent,C=E.hasName,P=E.hasPhoneNumber,f=E.hasProfilePic,A=E.isNew,h=E.viewerAllowsContactsSync;if(null==A||!1===A){var v;return null!==(v=_)&&void 0!==v?v:null}var I=[r(d[6]).isMobile()&&m===r(d[9]).MODULES.profile&&a(d[0]).createElement(t,{key:r(d[9]).KEYS.addFirstPhoto,onFirstPhotoUpload:this.props.onFirstPhotoUpload}),u&&a(d[0]).createElement(i(d[10]),{analyticsContext:i(d[11]).selfProfilePage,key:r(d[9]).KEYS.connectToFacebook,nuxType:"activator",returnURL:window.location.href}),T&&!0!==h&&a(d[0]).createElement(l,{key:r(d[9]).KEYS.importContacts}),!0!==P&&a(d[0]).createElement(n,{key:r(d[9]).KEYS.addPhone}),!0!==C&&a(d[0]).createElement(o,{key:r(d[9]).KEYS.editProfile}),!0!==f&&a(d[0]).createElement(c,{key:r(d[9]).KEYS.editProfilePhoto,profilePicEditRef:this.$NewUserActivatorsUnit1})].filter(function(t){return t});if(0===I.length){var N;return null!==(N=this.props.fallbackComponent)&&void 0!==N?N:null}return a(d[0]).createElement(s,{className:O,ref:this.$NewUserActivatorsUnit1},I)},u})(a(d[0]).Component),u=r(d[4]).withRouter(r(d[14]).connect(function(t){var n,o=r(d[12]).getViewer(t);return{canFBConnect:r(d[13]).shouldDisplayFacebookConnect(t),canImportContacts:t.contactImport.canImportContacts,hasName:''!==(null===o||void 0===o?void 0:o.fullName),hasPhoneNumber:null===o||void 0===o?void 0:o.hasPhoneNumber,hasProfilePic:null===o||void 0===o?void 0:o.hasProfilePic,isNew:null===o||void 0===o?void 0:o.isNew,profilePicUploadIsInFlight:t.users.profilePicUploadIsInFlight,viewerAllowsContactsSync:null===(n=t.settings.privacyAndSecurityData)||void 0===n?void 0:n.allowContactsSync.value}})(r(d[15]).withConnectedLifecycleLogging('NewUserActivatorsUnit')(E)));e.default=u,e.ACTIVATOR_CARD_MODULES=r(d[9]).MODULES},13041664,[10158092,9895965,10289252,10158149,6,10158349,9895949,10747938,9895941,13041665,12845063,9895954,9895969,10289241,5,10289165]);
__d(function(g,r,i,a,m,e,d){"use strict";function n(){return a(d[0]).createElement(r(d[1]).BorderedIcon,{alt:r(d[2])(2962),icon:r(d[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,size:r(d[1]).CORE_CONSTANTS.AVATAR_SIZES.large})}Object.defineProperty(e,'__esModule',{value:!0});var t='ig_fb_nux_find_friends_msite',o='ig_fb_nux_find_friends_web';e.default=function(l){var _,u=l.analyticsContext,E=l.nuxType,c=void 0===E?'onboarding':E,O=l.returnURL,C=r(d[3]).useState(null),A=i(d[4])(C,2),f=A[0],s=A[1],T=null===(_=r(d[5]).useSelector(r(d[6]).getViewer))||void 0===_?void 0:_.fbid,R=i(d[7])(),S=i(d[8])({entryPoint:r(d[9]).isMobile()?t:o,returnPath:r(d[10]).FXCAL_CONSENT_PATH},{enabled:!1,initialStale:!0,onError:function(n){r(d[11]).logFXLinkingFlowError({errorContent:r(d[12]).CONNECT_TO_FACEBOOK_FAILURE,initiatorAccountId:T,linkingFlowEntryPoint:'ig_fb_nux_main_screen'}),R({text:r(d[13]).GENERIC_ERROR_MESSAGE})},onSuccess:function(n){var t=n.error,o=(n.info,n.web_auth);if(t)s(t);else{var l=null===o||void 0===o?void 0:o.url,_=null===o||void 0===o?void 0:o.plain_token,u=r(d[14]).getSessionStorage();if(null!=l&&null!=_&&''!==_&&null!=u)try{return u.setItem(r(d[15]).FB_PLAIN_TOKEN,_),void r(d[16]).redirect(l)}catch(n){}R({text:r(d[13]).GENERIC_ERROR_MESSAGE})}}}),F=S.isLoading,b=S.refetch,v=function(){!0!==i(d[17])._("151","0")?r(d[15]).redirectToFBOAuth(O,u):b()};return a(d[0]).createElement(a(d[0]).Fragment,null,'activator'===c?a(d[0]).createElement(r(d[1]).ActivatorCard,{bodyText:a(d[18]).FACEBOOK_BODY,buttonText:a(d[18]).FACEBOOK_CTA,headerText:a(d[18]).FACEBOOK_HEADER,icon:r(d[1]).ICONS.FACEBOOK_CIRCLE_OUTLINE_24_GREY9,iconAlt:a(d[18]).FACEBOOK_BODY,loading:F,onClick:v}):a(d[0]).createElement(i(d[19]),{bodyText:r(d[2])(3469),buttonText:r(d[2])(2615),headerText:r(d[2])(2587),icon:a(d[0]).createElement(n,null),isProcessing:F,onButtonClick:v}),f&&a(d[0]).createElement(i(d[20]),{handleExitFlow:function(){return s(null)},handleWebAuth:function(){return s(null)}}))}},12845063,[3,9895965,9895940,10158092,69,5,9895969,12845064,12845065,9895949,10158349,12845066,12845067,9895956,10092547,10289245,9895942,9895964,10289252,10289254,12845068]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);n&&(c=c.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),o.push.apply(o,c)}return o}function n(n){for(var o=1;o<arguments.length;o++){var c=null!=arguments[o]?arguments[o]:{};o%2?t(c,!0).forEach(function(t){i(d[0])(n,t,c[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(c)):t(c).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(c,t))})}return n}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(t,o){var c,u=t.entryPoint,s=t.flow,p=void 0===s?i(d[1])():s,f=t.picSize,l=void 0===f?56:f,b=t.returnPath,y=void 0===b?'':b,w=t.webAuth,v='/api/v1/fxcal/web_init/',O={body:{device_id:r(d[2]).getDeviceId(),flow:p,ig_web_extra_data:y,pic_size:l,web_auth:w}},P=null===(c=r(d[3]).useSelector(r(d[4]).getViewer))||void 0===c?void 0:c.fbid;return r(d[5]).useQuery([v,{request:O}],i(d[6])(i(d[7]).mark(function t(){var n;return i(d[7]).wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(d[8]).apiPost(v,O,{options:{dataType:'json'}});case 2:return n=t.sent,null!=u&&r(d[9]).logFXLinkingFlowInitiated({initiatorAccountId:P,linkingFlowEntryPoint:u}),t.abrupt("return",n.data);case 5:case"end":return t.stop()}},t)})),n({retry:!1},o))}},12845065,[9961474,12845069,9895952,5,9895969,12845070,9830402,9830403,10158374,12845066]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(){return r(d[0]).isMobile()?r(d[1]).FLOW_TYPE_NUX_MOBILE:r(d[1]).FLOW_TYPE_NUX_DESKTOP}},12845069,[9895949,12845071]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});e.FLOW_TYPE_REG_MOBILE='IG_REG_MSITE',e.FLOW_TYPE_REG_DESKTOP='IG_REG_WEB',e.FLOW_TYPE_NUX_MOBILE='IG_NUX_MSITE',e.FLOW_TYPE_NUX_DESKTOP='IG_NUX_WEB'},12845071,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),e.logFXLinkingFlowInitiated=function(n){var t=n.initiatorAccountId,o=n.linkingFlowEntryPoint;i(d[0]).log(function(){return{event:'linking_flow_initiated',initiator_account_id:t,initiator_account_type:r(d[0]).INSTAGRAM_ACCOUNT_TYPE,linking_flow_entry_point:o,target_account_type:r(d[0]).FACEBOOK_ACCOUNT_TYPE}})},e.logFXLinkingFlowError=function(n){var t=n.errorContent,o=n.initiatorAccountId,_=n.linkingFlowEntryPoint;i(d[0]).log(function(){return{event:'generic_error',linking_flow_entry_point:_,initiator_account_id:o,initiator_account_type:r(d[0]).INSTAGRAM_ACCOUNT_TYPE,target_account_type:r(d[0]).FACEBOOK_ACCOUNT_TYPE,debug_data:t}})},e.logFXLinkingFlowEvent=function(n){var t=n.event,o=n.initiatorAccountId,_=n.linkingFlowEntryPoint,c=n.url;i(d[0]).log(function(){return{event:t,initiator_account_id:o,initiator_account_type:r(d[0]).INSTAGRAM_ACCOUNT_TYPE,linking_flow_entry_point:_,target_account_type:r(d[0]).FACEBOOK_ACCOUNT_TYPE,url:c}})}},12845066,[12845067]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0});var n={falco:!0,pigeon:!1},o=(function(){function o(){}return o.log=function(o){r(d[0]).FalcoLogger.log('fxcal_linking_product',o(),{},n)},o})();e.default=o,e.INSTAGRAM_ACCOUNT_TYPE=1,e.FACEBOOK_ACCOUNT_TYPE=0,e.LINKING_REQUEST_FAILURE='Get linking disclosures request failure',e.ACCOUNT_DETAILS_NULL_DISCLOSURE_PAGE='AccountID or AuthProof null on disclosure page',e.WEB_CREATE_REQUEST_FAILURE='Web create request failure',e.EMPTY_TOKEN_ERROR='Empty plain token when loading the consent screen',e.WEB_INIT_REQUEST_FAILURE='Web init failure',e.CONNECT_TO_FACEBOOK_FAILURE='Web connect to facebook request failure'},12845067,[9764876]);
__d(function(g,r,i,a,m,e,d){"use strict";function t(){var t={action:'EXIT_FLOW',label:r(d[0]).OK_TEXT};return{body:r(d[0]).GENERIC_ERROR_MESSAGE,primary_button:t}}function o(t){var o,n,l=t.errorButton,u=t.handleExitFlow,b=t.handleWebAuth,c=i(d[1])(t,["errorButton","handleExitFlow","handleWebAuth"]);switch(l.action){case'EXIT_FLOW':n=u;break;case'WEB_AUTH':n=b}return a(d[2]).createElement(r(d[3]).DialogItem,i(d[4])({color:"ig-primary-button",onClick:n},c),null!==(o=l.label)&&void 0!==o?o:'')}Object.defineProperty(e,'__esModule',{value:!0}),e.default=function(n){var l=n.errorContent,u=void 0===l?t():l,b=n.handleExitFlow,c=n.handleWebAuth,E=null==(u.primary_button||u.secondary_button||u.negative_button)?b:void 0;return a(d[2]).createElement(r(d[3]).Dialog,{body:u.body,onModalClose:E,title:u.title},u.negative_button&&a(d[2]).createElement(o,{color:"ig-error-or-destructive",errorButton:u.negative_button,handleExitFlow:b,handleWebAuth:c}),u.primary_button&&a(d[2]).createElement(o,{color:"ig-primary-button",errorButton:u.primary_button,handleExitFlow:b,handleWebAuth:c}),u.secondary_button&&a(d[2]).createElement(o,{errorButton:u.secondary_button,handleExitFlow:b,handleWebAuth:c}))}},12845068,[9895956,10092578,3,9895965,10092554]);